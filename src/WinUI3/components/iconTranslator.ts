/* eslint-disable @typescript-eslint/naming-convention */
import { Node } from "../JsonParser";
import { convertColor } from "./colortranslator";

export function generateIconXaml(node: Node, indent: string = ""): string {
  const props = node.props;
  let xaml = `${indent}<FontIcon`;
  console.log("Icon props:", props);

  const glyph = getGlyphFromVscIcon(props.vscIcon);
  console.log("Selected icon:", props.vscIcon);
  console.log("Glyph:", glyph);

  xaml += ` Glyph="${glyph}"`;
  xaml += ` FontSize="${props.iconSize}"`;
  xaml += ` Foreground="${convertColor(props.iconColor)}"`;
  xaml += ` HorizontalAlignment="Center" VerticalAlignment="Center"`;
  xaml += ` Margin="5"`;

  xaml += "/>";

  return xaml + "\n";
}

function formatColor(color: string): string {
  if (color.startsWith("#")) {
    // If it's a hex color, ensure it has 8 characters (ARGB)
    if (color.length === 7) {
      // If it's a 6-digit hex (RGB), add full opacity
      return "#FF" + color.substring(1);
    } else if (color.length === 9) {
      // If it's already 8-digit hex (ARGB), use as is
      return color;
    }
  } else if (color.startsWith("FF") && color.length === 8) {
    // If it starts with FF and is 8 characters, it's likely meant to be a hex color
    return "#" + color;
  } else {
    // It's likely a named color, return as is
    return color;
  }

  // If we can't parse the color, return a default
  console.warn(`Unrecognized color format: ${color}. Using default.`);
  return "{ThemeResource SystemControlForegroundBaseHighBrush}";
}

export function getGlyphFromVscIcon(iconName: string): string {
  const iconMap: { [key: string]: string } = {
    VscAdd: "\uE710",
    VscHome: "\uE80F",
    VscAccount: "\uE77B",
    VscSettings: "\uE713",
    VscSearch: "\uE721",
    VscClose: "\uE711",
    VscCheck: "\uE73E",
    VscInfo: "\uE946",
    VscBell: "\uE7ED",
    VscEdit: "\uE70F",
    VscError: "\uE783",
    VscFile: "\uE8E5",
    VscFolder: "\uE8B7",
    VscLink: "\uE71B",
    VscLock: "\uE72E",
    VscMail: "\uE715",
    VscTrash: "\uE74D",
    VscUndo: "\uE7A7",
    VscRedo: "\uE7A6",
    VscUpload: "\uE898",
    VscDownload: "\uE896",
    VscPlay: "\uE768",
    VscPause: "\uE769",
    VscStop: "\uE71A",
    VscSync: "\uE895",
    VscList: "\uE8A3",
    VscRefresh: "\uE72C",
    VscSave: "\uE74E",
    VscFolderOpen: "\uE838",
    VscChevronRight: "\uE76C",
    VscChevronDown: "\uE76B",
    VscChevronUp: "\uE76A",
    VscChevronLeft: "\uE76D",
    VscLightbulb: "\uE898",
    VscTerminal: "\uE756",
    VscWarning: "\uE814",
    VscGraph: "\uE9D6",
    VscGitBranch: "\uE9BD",
    VscGitCommit: "\uE9B9",
    VscGitPullRequest: "\uE9B8",
    VscGitMerge: "\uE9BC",
    VscGitCompare: "\uE9BB",
    VscPerson: "\uE77B",
    VscThumbsUp: "\uE8FB",
    VscThumbsDown: "\uE8FD",
    VscEye: "\uE8F4",
    VscEyeClosed: "\uE8F5",
    VscCloudUpload: "\uE891",
    VscCloudDownload: "\uE892",
    VscComment: "\uE90A",
    VscCommentAdd: "\uE90B",
    VscArrowUp: "\uE700",
    VscArrowDown: "\uE701",
    VscArrowLeft: "\uE704",
    VscArrowRight: "\uE703",
    VscArrowBoth: "\uE80C",
    VscArrowSwap: "\uE72F",
    VscBookmark: "\uE8A4",
    VscCalendar: "\uE787",
    VscChart: "\uE9D3",
    VscCode: "\uE943",
    VscCollapseAll: "\uEF2D",
    VscCopy: "\uE8C8",
    VscCut: "\uE8C6",
    VscDashboard: "\uE9A6",
    VscDesktopDownload: "\uE896",
    VscEllipsis: "\uE10C",
    VscExpandAll: "\uEF2C",
    VscExtensions: "\uEBA5",
    VscFileBinary: "\uEAF4",
    VscFileCode: "\uE8B5",
    VscFileMedia: "\uEBC3",
    VscFilePdf: "\uEA90",
    VscFiles: "\uE8B7",
    VscFilter: "\uE71C",
    VscFolderActive: "\uE838",
    VscFolderLibrary: "\uE8D4",
    VscFoldDown: "\uE74B",
    VscFoldUp: "\uE74C",
    VscGear: "\uEAD4",
    VscGift: "\uECA6",
    VscHeart: "\uEB51",
    VscHistory: "\uEA2A",
    VscLightbulbAutofix: "\uEAAD",
    VscListFlat: "\uEF0B",
    VscListSelection: "\uEF0E",
    VscListTree: "\uEF0C",
    VscLockSmall: "\uE72E",
    VscMicroscope: "\uEA92",
    VscMute: "\uE78F",
    VscNoNewline: "\uEC1D",
    VscNote: "\uE70B",
    VscNotebook: "\uEDA4",
    VscOutput: "\uEF1A",
    VscPass: "\uEBE8",
    VscPin: "\uE718",
    VscPinned: "\uE840",
    VscPlug: "\uEABA",
    VscPreview: "\uE70E",
    VscProject: "\uEBCB",
    VscPulse: "\uE9A5",
    VscRepo: "\uE2AF",
    VscRocket: "\uE9A5",
    VscRss: "\uE920",
    VscRun: "\uE768",
    VscServer: "\uE7E6",
    VscSettingsGear: "\uE713",
    VscShield: "\uEA18",
    VscSignIn: "\uE748",
    VscSignOut: "\uE749",
    VscSmiley: "\uE8F3",
    VscSplitHorizontal: "\uEF42",
    VscSplitVertical: "\uEF44",
    VscSymbolArray: "\uEB4C",
    VscSymbolBoolean: "\uEB52",
    VscSymbolClass: "\uEB53",
    VscSymbolColor: "\uEB55",
    VscSymbolConstant: "\uEB56",
    VscSymbolEnum: "\uEB57",
    VscSymbolField: "\uEB63",
    VscSymbolFile: "\uEB66",
    VscSymbolKey: "\uEB6E",
    VscSymbolMethod: "\uEB7C",
    VscSymbolNamespace: "\uEB7D",
    VscSymbolNumeric: "\uEB7E",
    VscSymbolParameter: "\uEB81",
    VscSymbolProperty: "\uEB85",
    VscSymbolSnippet: "\uEB94",
    VscSymbolString: "\uEB98",
    VscSymbolVariable: "\uEBD1",
    VscTasklist: "\uEACB",
    VscTextSize: "\uE8A4",
    VscThumbtack: "\uE840",
    VscTools: "\uE7AD",
    VscTriangleDown: "\uE74B",
    VscTriangleLeft: "\uE76D",
    VscTriangleRight: "\uE76C",
    VscTriangleUp: "\uE74A",
    VscTypeHierarchy: "\uEF62",
    VscUnfold: "\uEF2E",
    VscUnmute: "\uE7F3",
    VscWand: "\uE776",
    VscWarningOutline: "\uE814",
    VscZap: "\uE9AF",
    VscBeaker: "\uF0A0",
    VscBroadcast: "\uF0A1",
    VscBug: "\uF0A2",
    VscCallIncoming: "\uF0A3",
    VscCallOutgoing: "\uF0A4",
    VscCases: "\uF0A5",
    VscCheckAll: "\uF0A6",
    VscChecklist: "\uF0A7",
    VscChevronSmallDown: "\uF0A8",
    VscChevronSmallLeft: "\uF0A9",
    VscChevronSmallRight: "\uF0AA",
    VscChevronSmallUp: "\uF0AB",
    VscChromeClose: "\uF0AC",
    VscChromeMaximize: "\uF0AD",
    VscChromeMinimize: "\uF0AE",
    VscChromeRestore: "\uF0AF",
    VscCircleOutline: "\uF0B0",
    VscCircleSlash: "\uF0B1",
    VscCircuitBoard: "\uF0B2",
    VscClearAll: "\uF0B3",
    VscClippy: "\uF0B4",
    VscCloseAll: "\uF0B5",
    VscCloud: "\uF0B6",
    VscCloudUploadOutline: "\uF0B7",
    VscCollapse: "\uF0B8",
    VscColorMode: "\uF0B9",
    VscCombine: "\uF0BA",
    VscCommentDiscussion: "\uF0BB",
    VscCompass: "\uF0BC",
    VscCreditCard: "\uF0BD",
    VscDash: "\uF0BE",
    VscDatabase: "\uF0BF",
    VscDebug: "\uF0C0",
    VscDebugAlt: "\uF0C1",
    VscDebugAltSmall: "\uF0C2",
    VscDebugBreakpointConditionalUnverified: "\uF0C3",
    VscDebugBreakpointFunctionUnverified: "\uF0C4",
    VscDebugBreakpointLogUnverified: "\uF0C5",
    VscDebugConsole: "\uF0C6",
    VscDebugDisconnect: "\uF0C7",
    VscDebugPause: "\uF0C8",
    VscDebugRestart: "\uF0C9",
    VscDebugRestartFrame: "\uF0CA",
    VscDebugReverseContinue: "\uF0CB",
    VscDebugStackframe: "\uF0CC",
    VscDebugStackframeDot: "\uF0CD",
    VscDebugStart: "\uF0CE",
    VscDebugStepBack: "\uF0CF",
    VscDebugStepInto: "\uF0D0",
    VscDebugStepOut: "\uF0D1",
    VscDebugStepOver: "\uF0D2",
    VscDebugStop: "\uF0D3",
    VscDesktopDownloadOutline: "\uF0D4",
    VscDeviceCamera: "\uF0D5",
    VscDeviceCameraVideo: "\uF0D6",
    VscDeviceMobile: "\uF0D7",
    VscDiff: "\uF0D8",
    VscDiffAdded: "\uF0D9",
    VscDiffIgnored: "\uF0DA",
    VscDiffModified: "\uF0DB",
    VscDiffRemoved: "\uF0DC",
    VscDiffRenamed: "\uF0DD",
    VscEllipsisOutline: "\uF0DE",
    VscEmptyWindow: "\uF0DF",
    VscExclude: "\uF0E0",
    VscExpand: "\uF0E1",
    VscExtensionsOutline: "\uF0E2",
    VscFileDirectoryCreate: "\uF0E3",
    VscFileSymlinkDirectory: "\uF0E4",
    VscFileSymlinkFile: "\uF0E5",
    VscFileZip: "\uF0E6",
    VscFilesOutline: "\uF0E7",
    VscFlame: "\uF0E8",
    VscFold: "\uF0E9",
    VscFoldDownOutline: "\uF0EA",
    VscFoldUpOutline: "\uF0EB",
    VscFolderOutline: "\uF0EC",
    VscFolderOpened: "\uF0ED",
    VscFolderSymlink: "\uF0EE",
    VscGearOutline: "\uF0EF",
    VscGist: "\uF0F0",
    VscGistSecret: "\uF0F1",
    VscGitCommitOutline: "\uF0F2",
    VscGitMergeOutline: "\uF0F3",
    VscGitPullRequestOutline: "\uF0F4",
    VscGlobe: "\uF0F5",
    VscGoToFile: "\uF0F6",
    VscGrabber: "\uF0F7",
    VscGraphOutline: "\uF0F8",
    VscHeartOutline: "\uF0F9",
    VscHistoryOutline: "\uF0FA",
    VscHomeOutline: "\uF0FB",
    VscHorizontalRule: "\uF0FC",
    VscHubot: "\uF0FD",
    VscInbox: "\uF0FE",
    VscIssueClosed: "\uF0FF",
    VscIssueDraft: "\uF100",
    VscIssueReopened: "\uF101",
    VscIssues: "\uF102",
    VscItalic: "\uF103",
    VscJersey: "\uF104",
    VscJson: "\uF105",
    VscKebabHorizontal: "\uF106",
    VscKebabVertical: "\uF107",
    VscKey: "\uF108",
    VscLaw: "\uF109",
    VscLayers: "\uF10A",
    VscLibrary: "\uF10B",
    VscLightbulbOutline: "\uF10C",
    VscLinkExternal: "\uF10D",
    VscListOrdered: "\uF10E",
    VscListUnordered: "\uF10F",
    VscLiveShare: "\uF110",
    VscLoading: "\uF111",
    VscLocation: "\uF112",
    VscMailOutline: "\uF113",
    VscMailRead: "\uF114",
    VscMarkdown: "\uF115",
    VscMegaphone: "\uF116",
    VscMention: "\uF117",
    VscMilestone: "\uF118",
    VscMortarBoard: "\uF119",
    VscMove: "\uF11A",
    VscMultipleWindows: "\uF11B",
    VscMuteOutline: "\uF11C",
    VscNo: "\uF11D",
    VscNotebookOutline: "\uF11E",
    VscNotebookTemplate: "\uF11F",
    VscOctoface: "\uF120",
    VscOpenPreview: "\uF121",
    VscOrganization: "\uF122",
    VscOrganizationOutline: "\uF123",
    VscPackage: "\uF124",
    VscPackageOutline: "\uF125",
    VscPaintcan: "\uF126",
    VscPassOutline: "\uF127",
    VscPaste: "\uF128",
    VscPersonAdd: "\uF129",
    VscPersonOutline: "\uF12A",
    VscPinOutline: "\uF12B",
    VscPinnedOutline: "\uF12C",
    VscPlugOutline: "\uF12D",
    VscPreserveCase: "\uF12E",
    VscPreviewOutline: "\uF12F",
    VscProjectOutline: "\uF130",
    VscPulseOutline: "\uF131",
    VscQuestion: "\uF132",
    VscQuote: "\uF133",
    VscRadioTower: "\uF134",
    VscReactions: "\uF135",
    VscReferences: "\uF136",
    VscRefreshOutline: "\uF137",
    VscRegex: "\uF138",
    VscRemote: "\uF139",
    VscRemove: "\uF13A",
    VscRepl: "\uF13B",
    VscRepoClone: "\uF13C",
    VscRepoForcePush: "\uF13D",
    VscRepoForked: "\uF13E",
    VscRepoOutline: "\uF13F",
    VscRepoPull: "\uF140",
    VscRepoPush: "\uF141",
    VscReport: "\uF142",
    VscRequestChanges: "\uF143",
    VscRocketOutline: "\uF144",
    VscRssOutline: "\uF145",
    VscRuby: "\uF146",
    VscRunAbove: "\uF147",
    VscRunAll: "\uF148",
    VscRunBelow: "\uF149",
    VscRunOutline: "\uF14A",
    VscSaveAll: "\uF14B",
    VscSaveAs: "\uF14C",
    VscScreenFull: "\uF14D",
    VscScreenNormal: "\uF14E",
    VscSearchStop: "\uF14F",
    VscServerOutline: "\uF150",
    VscSettingsOutline: "\uF151",
    VscShieldOutline: "\uF152",
    VscSignInOutline: "\uF153",
    VscSignOutOutline: "\uF154",
    VscSmileyOutline: "\uF155",
    VscSortPrecedence: "\uF156",
    VscSourceControl: "\uF157",
    VscSplitHorizontalOutline: "\uF158",
    VscSplitVerticalOutline: "\uF159",
    VscSquirrel: "\uF15A",
    VscStarFull: "\uF15B",
    VscStarHalf: "\uF15C",
    VscSymbolBracket: "\uF15D",
    VscSymbolColorOutline: "\uF15E",
    VscSymbolNamespaceOutline: "\uF15F",
    VscSymbolPropertyOutline: "\uF160",
    VscSymbolSnippetOutline: "\uF161",
    VscSyncIgnored: "\uF162",
    VscSyncOutline: "\uF163",
    VscTab: "\uF164",
    VscTag: "\uF165",
    VscTagOutline: "\uF166",
    VscTasklistOutline: "\uF167",
    VscTerminalBash: "\uF168",
    VscTerminalCmd: "\uF169",
    VscTerminalDebian: "\uF16A",
    VscTerminalLinux: "\uF16B",
    VscTerminalPowershell: "\uF16C",
    VscTerminalTmux: "\uF16D",
    VscTerminalUbuntu: "\uF16E",
    VscTerminalZsh: "\uF16F",
    VscThumbsUpOutline: "\uF170",
    VscThumbsDownOutline: "\uF171",
    VscToolsOutline: "\uF172",
    VscTriangleDownOutline: "\uF173",
    VscTriangleLeftOutline: "\uF174",
    VscTriangleRightOutline: "\uF175",
    VscTriangleUpOutline: "\uF176",
    VscTwitter: "\uF177",
    VscTypeHierarchyOutline: "\uF178",
    VscUnfoldOutline: "\uF179",
    VscUngroupByRefType: "\uF17A",
    VscUnlock: "\uF17B",
    VscUnmuteOutline: "\uF17C",
    VscVersions: "\uF17D",
    VscVm: "\uF17E",
    VscVmActive: "\uF17F",
    VscVmOutline: "\uF180",
    VscWandOutline: "\uF181",
    VscWarningOutline2: "\uF182",
    VscWhitespace: "\uF183",
    VscWholeWord: "\uF184",
    VscWindow: "\uF185",
    VscWindowMaximize: "\uF186",
    VscWindowMinimize: "\uF187",
    VscWindowRestore: "\uF188",
    VscWordWrap: "\uF189",
    VscWorkspaceTrusted: "\uF18A",
    VscWorkspaceUnknown: "\uF18B",
    VscWorkspaceUntrusted: "\uF18C",
    VscWrench: "\uF18D",
    VscX: "\uF18E",
    VscZoomIn: "\uF18F",
    VscZoomOut: "\uF190",
    VscQuestionOutline: "\uF191",
    VscChecklistOutline: "\uF192",
    VscSymbolStructure: "\uF193",
    VscSymbolRuler: "\uF194",
    VscServerEnvironment: "\uF195",
    VscServerProcess: "\uF196",
    VscTextAlignCenter: "\uF197",
    VscTextAlignLeft: "\uF198",
    VscTextAlignRight: "\uF199",
    VscTasklistAdd: "\uF19A",
    VscSourceControlMultiRoot: "\uF19B",
    VscStarEmpty: "\uF19C",
    VscTerminalOutline: "\uF19D",
    VscSymbolInterface: "\uF19E",
    VscSymbolMisc: "\uF19F",
    VscSymbolStructureOutline: "\uF1A0",
    VscSymbolRulerOutline: "\uF1A1",
    VscTextAlignJustify: "\uF1A2",
    VscDiffDeletedOutline: "\uF1A3",
    VscServerEnvironmentOutline: "\uF1A4",
    VscServerProcessOutline: "\uF1A5",
    VscAzure: "\uF1A6",
    VscBeakerStop: "\uF1A7",
    VscBeakerDelete: "\uF1A8",
    VscBeakerTemplate: "\uF1A9",
    VscBeakerWarning: "\uF1AA",
    VscBellDot: "\uF1AB",
    VscBriefcase: "\uF1AC",
    VscChartDonut: "\uF1AD",
    VscChartLine: "\uF1AE",
    VscChevronDoubleDown: "\uF1AF",
    VscChevronDoubleLeft: "\uF1B0",
    VscChevronDoubleRight: "\uF1B1",
    VscChevronDoubleUp: "\uF1B2",
    VscCircle: "\uF1B3",
    VscCloseCircle: "\uF1B4",
    VscCloseCircleOutline: "\uF1B5",
    VscCloudOutline: "\uF1B6",
    VscCloudSync: "\uF1B7",
    VscCloudSyncOutline: "\uF1B8",
    VscCollapseAllOutline: "\uF1B9",
    VscColorModeOutline: "\uF1BA",
    VscCombineOutline: "\uF1BB",
    VscCompassOutline: "\uF1BC",
    VscCreditCardOutline: "\uF1BD",
    VscDashOutline: "\uF1BE",
    VscDatabaseOutline: "\uF1BF",
    VscDebugPauseOutline: "\uF1C0",
    VscDebugRestartOutline: "\uF1C1",
    VscDebugRestartFrameOutline: "\uF1C2",
    VscDebugReverseContinueOutline: "\uF1C3",
    VscDebugStackframeOutline: "\uF1C4",
    VscDebugStackframeDotOutline: "\uF1C5",
    VscDebugStartOutline: "\uF1C6",
    VscDebugStepBackOutline: "\uF1C7",
    VscDebugStepIntoOutline: "\uF1C8",
    VscDebugStepOutOutline: "\uF1C9",
    VscDebugStepOverOutline: "\uF1CA",
    VscDebugStopOutline: "\uF1CB",
    VscDeviceCameraOutline: "\uF1CC",
    VscDeviceCameraVideoOutline: "\uF1CD",
    VscDeviceMobileOutline: "\uF1CE",
    VscDiffAddedOutline: "\uF1CF",
    VscDiffIgnoredOutline: "\uF1D0",
    VscDiffModifiedOutline: "\uF1D1",
    VscDiffRemovedOutline: "\uF1D2",
    VscDiffRenamedOutline: "\uF1D3",
    VscEllipsisOutline2: "\uF1D4",
    VscEmptyWindowOutline: "\uF1D5",
    VscExcludeOutline: "\uF1D6",
    VscExpandOutline: "\uF1D7",
    VscExtensionsOutline2: "\uF1D8",
    VscFileBinaryOutline: "\uF1D9",
    VscFileCodeOutline: "\uF1DA",
    VscFileDirectoryCreateOutline: "\uF1DB",
    VscFileMediaOutline: "\uF1DC",
    VscFilePdfOutline: "\uF1DD",
    VscFileSymlinkDirectoryOutline: "\uF1DE",
    VscFileSymlinkFileOutline: "\uF1DF",
    VscFileZipOutline: "\uF1E0",
    VscFilesOutline2: "\uF1E1",
    VscFlameOutline: "\uF1E2",
    VscFoldOutline: "\uF1E3",
    VscFolderOutline2: "\uF1E4",
    VscFolderOpenedOutline: "\uF1E5",
    VscFolderSymlinkOutline: "\uF1E6",
    VscGearOutline2: "\uF1E7",
    VscGistOutline: "\uF1E8",
    VscGistSecretOutline: "\uF1E9",
    VscGitCommitOutline2: "\uF1EA",
    VscGitMergeOutline2: "\uF1EB",
    VscGitPullRequestOutline2: "\uF1EC",
    VscGlobeOutline: "\uF1ED",
    VscGoToFileOutline: "\uF1EE",
    VscGrabberOutline: "\uF1EF",
    VscGraphOutline2: "\uF1F0",
    VscHeartOutline2: "\uF1F1",
    VscHistoryOutline2: "\uF1F2",
    VscHomeOutline2: "\uF1F3",
    VscHorizontalRuleOutline: "\uF1F4",
    VscHubotOutline: "\uF1F5",
    VscInboxOutline: "\uF1F6",
    VscIssueClosedOutline: "\uF1F7",
    VscIssueDraftOutline: "\uF1F8",
    VscIssueReopenedOutline: "\uF1F9",
    VscIssuesOutline: "\uF1FA",
    VscItalicOutline: "\uF1FB",
    VscJerseyOutline: "\uF1FC",
    VscJsonOutline: "\uF1FD",
    VscKebabHorizontalOutline: "\uF1FE",
    VscKebabVerticalOutline: "\uF1FF",
  };

  return iconMap[iconName] || "\uE80F";
}
